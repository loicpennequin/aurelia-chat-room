{"version":3,"sources":["src/app.js","src/environment.js","src/main.js","src/resources/index.js","src/services/loginService.js","src/views/chat.js","src/views/login.js","app.sass","views/chat.sass"],"names":["App","configureRouter","config","router","title","map","route","moduleId","name","debug","testing","configure","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","LoginService","username","set","get","socket","Chat","io","Router","loginService","users","messages","newPost","activate","navigateToRoute","connect","emit","on","data","push","message","console","log","post","setTimeout","chatbox","document","querySelector","scrollTop","scrollHeight","Login","login"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import io from 'socket.io-client';\n// let socket = io.connect( 'http://localhost:8080' );\n\nexport class App {\n  configureRouter(config, router){\n    config.title = 'Chat';\n    config.map([\n      { route: '', moduleId: 'views/login', title: 'Login', name: \"login\"},\n      { route: 'chat', moduleId: 'views/chat', title: 'Chatroom', name: \"chatroom\" }\n    ]);\n\n    this.router = router;\n  }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export function configure(config) {\n  //config.globalResources([]);\n}\n","export class LoginService{\r\n  constructor(){\r\n    this.username = \"\";\r\n  }\r\n\r\n  set(username){\r\n    this.username = username;\r\n  }\r\n\r\n  get(){\r\n    return this.username\r\n  }\r\n}\r\n","import {inject} from 'aurelia-framework';\nimport {LoginService} from '../services/loginService';\nimport {Router} from 'aurelia-router';\nimport io from 'socket.io-client';\n\nlet socket;\n\n@inject(LoginService, io, Router)\nexport class Chat {\n  constructor(LoginService, io, Router) {\n    this.loginService = LoginService;\n    this.io = io;\n    this.username = LoginService.get();\n    this.router = Router;\n    this.users = [];\n    this.messages = [];\n    this.newPost = \"\";\n  }\n\n  activate(){\n    if (this.username === \"\"){\n      this.router.navigateToRoute('login');\n    } else {\n      socket = this.io.connect( 'http://localhost:8080' );\n      socket.emit('user joined chatroom', this.username)\n\n      socket.on('connection succesful', (users)=>{\n        this.users = users;\n      });\n\n      socket.on('user joined', (data)=>{\n        this.users = data.users;\n        this.messages.push(data.message);\n      });\n\n      socket.on('user left', (data)=>{\n        this.users = data.users;\n        console.log(this.users);\n        this.messages.push(data.message);\n      });\n\n      socket.on('new post', (post)=>{\n        this.messages.push(post);\n        setTimeout(()=>{\n          let chatbox = document.querySelector(\".chatbox\");\n          chatbox.scrollTop = chatbox.scrollHeight;\n\n        })\n      });\n    }\n  }\n\n  post(){\n    if (this.newPost !== \"\"){\n      socket.emit('new post', this.newPost)\n      this.newPost = \"\";\n    }\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {LoginService} from '../services/loginService';\nimport {Router} from 'aurelia-router';\n\n\n@inject(LoginService, Router)\nexport class Login {\n  constructor(LoginService, Router, io) {\n    this.loginService = LoginService;\n    this.router = Router;\n    this.username = LoginService.get();\n  }\n\n  login(){\n      this.loginService.set(this.username);\n      this.router.navigateToRoute('chatroom');\n  }\n}\n","body {\n  font-family: 'Helvetica', 'Arial', sans-serif; }\n\nul {\n  list-style: none;\n  padding-left: 0; }\n","* {\n  box-sizing: border-box; }\n\nh1 {\n  text-align: center; }\n\nsection {\n  height: 80vh;\n  max-width: 1200px;\n  margin: 0 auto;\n  display: flex;\n  flex-flow: row wrap;\n  border: solid #666 1px; }\n\nmain {\n  font-size: 1.2em;\n  width: 80%;\n  float: left;\n  height: 100%;\n  display: flex;\n  flex-flow: column;\n  .chatbox {\n    padding: 15px;\n    overflow-y: scroll; }\n  form {\n    background-color: #bbb;\n    padding: 5px;\n    margin-top: auto;\n    font-size: 1.1em;\n    input[type='text'] {\n      width: 90%; } } }\naside {\n  width: 20%;\n  float: right;\n  background-color: gray;\n  height: 100%;\n  padding: 15px; }\n"],"sourceRoot":".."}